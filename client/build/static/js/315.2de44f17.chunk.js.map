{"version":3,"file":"static/js/315.2de44f17.chunk.js","mappings":"gOAmFA,UA9EgB,WAAO,IAADA,EACdC,GAAWC,EAAAA,EAAAA,MACjBC,GAAwCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/CI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GAC9BI,GAAcC,EAAAA,EAAAA,QAAO,MAErBC,GAAOC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMC,KAAKC,QAAQ,IA2BvD,OACEC,EAAAA,EAAAA,KAAA,QAAMC,UAAU,UAASC,UACvBC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,OAAMC,SAAA,EACpBF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,YAAWC,SAAC,uBAC1BC,EAAAA,EAAAA,MAAA,SAAOF,UAAU,aAAYC,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,YAAWC,SAAC,cACzBF,EAAAA,EAAAA,KAAA,SACEI,KAAK,QACLC,KAAK,QACLC,YAAY,WACZC,aAAcZ,EAAKa,UAAY,GAC/BC,UAAQ,EACRC,IAAKjB,QAGTU,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wBAAuBC,SAAA,EACpCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAoBC,UACjCF,EAAAA,EAAAA,KAAA,OACEW,IAAG,oBAAAC,OAAgC,QAAhC5B,EAAsBW,EAAKkB,aAAK,IAAA7B,OAAA,EAAVA,EAAY8B,KACrCb,UAAU,WACVc,IAAI,eAKRZ,EAAAA,EAAAA,MAAA,SAAOF,UAAU,aAAae,QAAQ,QAAOd,SAAA,CAAC,wBAE5CF,EAAAA,EAAAA,KAAA,SACEI,KAAK,OACLa,GAAG,QACHC,OAAO,UACPb,KAAK,QACLc,SA1Da,SAACC,GACxB,GAAIA,EAAEC,OAAOC,MAAO,CAClB,IAAOC,GAAPjC,EAAAA,EAAAA,GAAe8B,EAAEC,OAAOC,MAAK,GAAlB,GACX9B,EAAgB+B,EAElB,CACF,WAwDMvB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,UAC5BF,EAAAA,EAAAA,KAAA,UAAQC,UAAU,qBAAqBuB,QAnDrB,SAACJ,GACzBA,EAAEK,iBACGhC,EAAYiC,QAAQC,MASzB1C,GAAS2C,EAAAA,EAAAA,IAAS,CAAEpB,SAAUf,EAAYiC,QAAQC,MAAOpC,aAAAA,KARvDN,EACE4C,EAAAA,EAAAA,SAAmB,CACjBC,MAAO,iCACPb,IAAIc,EAAAA,EAAAA,OAMZ,EAuC0E7B,SAAC,iBAO7E,C","sources":["pages/Profile.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { v4 as uuid } from \"uuid\";\nimport { updateMe } from \"../store/auth-slice\";\nimport { uiActions } from \"../store/ui-slice\";\nconst Profile = () => {\n  const dispatch = useDispatch();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const usernameRef = useRef(null);\n  //const imgRef = useRef();\n  const user = useSelector((state) => state.auth.userInfo);\n  const handleFileChange = (e) => {\n    if (e.target.files) {\n      const [file] = e.target.files;\n      setSelectedFile(file);\n      //imgRef.current.src = URL.createObjectURL(file);\n    }\n  };\n\n  // const handleLoadAvatar = (e) => {\n  //   imgRef.current.src = URL.createObjectURL(selectedFile);\n  // };\n\n  const handleUploadClick = (e) => {\n    e.preventDefault();\n    if (!usernameRef.current.value) {\n      dispatch(\n        uiActions.addNotif({\n          title: \"please fill the username field\",\n          id: uuid(),\n        })\n      );\n      return;\n    }\n    dispatch(updateMe({ username: usernameRef.current.value, selectedFile }));\n  };\n\n  return (\n    <main className=\"profile\">\n      <form className=\"form\">\n        <h1 className=\"heading-l\">Edit your profile</h1>\n        <label className=\"text-input\">\n          <p className=\"heading-m\">Username</p>\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Username\"\n            defaultValue={user.username || \"\"}\n            required\n            ref={usernameRef}\n          />\n        </label>\n        <div className=\"profile__upload gap-s\">\n          <div className=\"profile__thumbnail\">\n            <img\n              src={`./images/avatars/${user.image?.png}`}\n              className=\"portrait\"\n              alt=\"profile\"\n              //ref={imgRef}\n              // onError={handleLoadAvatar}\n            />\n          </div>\n          <label className=\"file-input\" htmlFor=\"photo\">\n            Change profile photo\n            <input\n              type=\"file\"\n              id=\"photo\"\n              accept=\"image/*\"\n              name=\"photo\"\n              onChange={handleFileChange}\n            />\n          </label>\n        </div>\n        <div className=\"btn-container\">\n          <button className=\"btn btn--fill-blue\" onClick={handleUploadClick}>\n            Upload\n          </button>\n        </div>\n      </form>\n    </main>\n  );\n};\n\nexport default Profile;\n"],"names":["_user$image","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","selectedFile","setSelectedFile","usernameRef","useRef","user","useSelector","state","auth","userInfo","_jsx","className","children","_jsxs","type","name","placeholder","defaultValue","username","required","ref","src","concat","image","png","alt","htmlFor","id","accept","onChange","e","target","files","file","onClick","preventDefault","current","value","updateMe","uiActions","title","uuid"],"sourceRoot":""}